package op1

import (
	"fmt"
	"testing"

	"github.com/schollz/_core/core/src/sox"
	"github.com/stretchr/testify/assert"
)

func TestOP1(t *testing.T) {
	s, e, err := GetSliceMarkers("lofi.aif")
	totalSamplesI, _ := sox.NumSamples("lofi.aif")
	totalSamples := float64(totalSamplesI)
	// assert.Equal(t, []float64{0, 0.01664876476906552, 0.03466127052324689, 0.09170247046186895, 0.12429798987264079, 0.13380965168022096, 0.15498312106797607, 0.17714822771213748, 0.19973914377781188, 0.2160637563295995, 0.2256521405554703, 0.25921244437624674, 0.26987302439772903, 0.282401795304588, 0.32935016111707843, 0.343703007518797, 0.3926941077182753, 0.4341242135952125, 0.4517799601043425, 0.473801212214209, 0.4980742673009053, 0.5453487033911308}, s)
	// assert.Equal(t, []float64{0.01657012429031763, 0.034582630044499005, 0.09162382998312107, 0.1242193493938929, 0.13373101120147307, 0.15490448058922818, 0.17706958723338959, 0.19966050329906398, 0.21598511585085162, 0.22557350007672242, 0.25913380389749885, 0.26979438391898114, 0.2823231548258401, 0.32927152063833054, 0.3436243670400491, 0.3926154672395274, 0.43404557311646463, 0.4517013196255946, 0.4737225717354611, 0.4979956268221574, 0.545270062912383, 0.9999175234003376}, e)
	assert.Nil(t, err)
	for i, _ := range s {
		fmt.Printf("%2.3f - %2.3f\n", s[i]*totalSamples, e[i]*totalSamples)
	}
}
